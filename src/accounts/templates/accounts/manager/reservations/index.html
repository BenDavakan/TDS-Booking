{% extends 'accounts/layouts/base.html' %}
{% load static %}


{% block style %}

<link href="{% static 'accounts/vertical/assets/plugins/datatables/dataTables.bootstrap4.min.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'accounts/vertical/assets/plugins/datatables/buttons.bootstrap4.min.css' %}" rel="stylesheet" type="text/css" />

<link href="{% static 'accounts/vertical/assets/plugins/datatables/responsive.bootstrap4.min.css' %}" rel="stylesheet" type="text/css" />

<link href="{% static 'accounts/vertical/assets/css/reservations/style.css' %}" rel="stylesheet" type="text/css">

{% endblock %}


{% block content %}
<div class="row">
    <div class="col-sm-12">
        <div class="float-right page-breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#">Tds Booking</a></li>
                <li class="breadcrumb-item"><a href="#">Reservations</a></li>
                <li class="breadcrumb-item active">Liste des réservations</li>
            </ol>
        </div>
        <h5 class="page-title">Liste des réservations</h5>
    </div>
</div>

<div class="row">
    <div class="col-md-12 mb-2">
        <a href="{% url 'add-booking'%}"><button type="button" class="btn btn-success waves-effect waves-light">Ajouter une réservation</button></a>
    </div>
    <div class="col-12">
        <div class="card m-b-30">
            <div class="card-body">

                <h4 class="mt-0 header-title">Les reservations en cours</h4>
                <p class="text-muted m-b-30 font-14">
                    Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ullam, accusamus optio temporibus libero, amet sunt aliquam debitis aliquid magnam provident magni nostrum vel velit quo eaque quasi pariatur ad quibusdam.
                </p>

                <table class="datatable table table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                    <thead>
                    <tr class="bg-secondary">
                        <th>ID</th>
                        <th>Chambre</th>
                        <th>Avrrivé</th>
                        <th>Départ</th>
                        <th>Date</th>
                        <th>Action</th>
                    </tr>
                    </thead>


                    <tbody>
                    
                    {% for reserv in reservations_EC  %}
                            <tr class="bg-light">
                                <td>{{ reserv.id }}</td>
                                <td>{{ reserv.chambre.number }}</td>
                                <td>{{ reserv.check_in|date:"d M Y" }}</td>
                                <td>{{ reserv.check_out|date:"d M Y" }}</td>
                                <td>{{ reserv.add_at |date:"D d M Y, H:i" }}</td>
                                <td class="text-center">
                                    <a href="{% url 'manager-reservation' reserv.token %}"><button class="btn btn-secondary btn-sm" type=""><i class="fa fa-eye"></i></button></a>
                                </td>
                            </tr>
                            
                        {% endfor %}
             
                    </tbody>
                </table>

            </div>
        </div>
    </div> 
</div>
<div class="row">
    
    <div class="col-12">
        <div class="card m-b-30">
            <div class="card-body">

                <h4 class="mt-0 header-title">Les reservations en attente de paiement</h4>
                <p class="text-muted m-b-30 font-14">
                    Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ullam, accusamus optio temporibus libero, amet sunt aliquam debitis aliquid magnam provident magni nostrum vel velit quo eaque quasi pariatur ad quibusdam.
                </p>

                <table class="datatable table table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                    <thead>
                    <tr class="bg-secondary">
                        <th>Reference</th>
                        <th>Chambre</th>
                        <th>Avrrivé</th>
                        <th>Départ</th>
                        <th>Status</th>
                        <th>Date</th>
                        <th>Action</th>
                    </tr>
                    </thead>


                    <tbody>
                    
                    {% for reserv in reservations_EAP  %}
                            <tr class="bg-light">
                                <td>{{ reserv.id }}</td>
                                <td>{{ reserv.chambre.number }}</td>
                                <td>{{ reserv.check_in|date:"d M Y" }}</td>
                                <td>{{ reserv.check_out|date:"d M Y" }}</td>
                                <td>{{ reserv.status }}</td>
                                <td>{{ reserv.add_at |date:"D d M Y, H:i" }}</td>
                                <td class="text-center">
                                    <a href="{% url 'manager-reservation' reserv.token %}"><button class="btn btn-secondary btn-sm" type=""><i class="fa fa-eye"></i></button></a>
                                </td>
                            </tr>
                            
                        {% endfor %}
             
                    </tbody>
                </table>

            </div>
        </div>
    </div> 
</div>
<div class="row">
    <div class="col-12">
        <div class="card m-b-30">
            <div class="card-body">

                <h4 class="mt-0 header-title">Les reservations annulée</h4>
                <p class="text-muted m-b-30 font-14">
                    Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ullam, accusamus optio temporibus libero, amet sunt aliquam debitis aliquid magnam provident magni nostrum vel velit quo eaque quasi pariatur ad quibusdam.
                </p>

                <table class="datatable table table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                    <thead>
                    <tr class="bg-secondary">
                        <th>Reference</th>
                        <th>Chambre</th>
                        <th>Avrrivé</th>
                        <th>Départ</th>
                        <th>Date</th>
                        <th>Action</th>
                    </tr>
                    </thead>


                    <tbody>
                    
                    {% for reserv in reservations_AN  %}
                            <tr class="bg-light">
                                <td>{{ reserv.id }}</td>
                                <td>{{ reserv.chambre.number }}</td>
                                <td>{{ reserv.check_in|date:"d M Y" }}</td>
                                <td>{{ reserv.check_out|date:"d M Y" }}</td>
                                <td>{{ reserv.add_at |date:"D d M Y, H:i" }}</td>
                                <td class="text-center">
                                    <a href="{% url 'manager-reservation' reserv.token %}"><button class="btn btn-secondary btn-sm" type=""><i class="fa fa-eye"></i></button></a>
                                </td>
                            </tr>
                            
                        {% endfor %}
             
                    </tbody>
                </table>

            </div>
        </div>
    </div> 
</div>
<div class="row">
   
    <div class="col-12">
        <div class="card m-b-30">
            <div class="card-body">

                <h4 class="mt-0 header-title">Les reservations terminées</h4>
                <p class="text-muted m-b-30 font-14">
                    Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ullam, accusamus optio temporibus libero, amet sunt aliquam debitis aliquid magnam provident magni nostrum vel velit quo eaque quasi pariatur ad quibusdam.
                </p>

                <table  class="datatable table table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                    <thead>
                    <tr class="bg-secondary">
                        <th>Reference</th>
                        <th>Chambre</th>
                        <th>Avrrivé</th>
                        <th>Départ</th>
                        <th>Date</th>
                        <th>Action</th>
                    </tr>
                    </thead>


                    <tbody>
                    
                    {% for reserv in reservations_T  %}
                            <tr class="bg-light">
                                <td>{{ reserv.id }}</td>
                                <td>{{ reserv.chambre.number }}</td>
                                <td>{{ reserv.check_in|date:"d M Y" }}</td>
                                <td>{{ reserv.check_out|date:"d M Y" }}</td>
                                <td>{{ reserv.add_at |date:"D d M Y, H:i" }}</td>
                                <td class="text-center">
                                    <a href="{% url 'manager-reservation' reserv.token %}"><button class="btn btn-secondary btn-sm" type=""><i class="fa fa-eye"></i></button></a>
                                </td>
                            </tr>
                            
                        {% endfor %}
             
                    </tbody>
                </table>

            </div>
        </div>
    </div> 
</div>

{% endblock content %}

{% block script %}

     <script src="{% static 'accounts/vertical/assets/plugins/datatables/jquery.dataTables.min.js' %}"></script>
     <script src="{% static 'accounts/vertical/assets/plugins/datatables/dataTables.bootstrap4.min.js' %}"></script>
   
     <script src="{% static 'accounts/vertical/assets/plugins/datatables/dataTables.responsive.min.js' %}"></script>
     <script src="{% static 'accounts/vertical/assets/plugins/datatables/responsive.bootstrap4.min.js' %}"></script>

     <script src="{% static 'accounts/vertical/assets/pages/datatables.init.js' %}"></script>
     
        
{% endblock %}